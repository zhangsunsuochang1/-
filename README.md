## Deep structure目前使用正例进行学习，如果想要加入负例有没有比较好的方法？请给出你的方案，包括问题理解，问题设计（尽可能给出设计结构）。
&nbsp;&nbsp;首先明确 DR 种每条 path 可以理解为一个 cluster。DR 的目的就是给定一个 user，将训练集中与用户互动过的（正例）item 通过模型学习映射到某几个 cluster 中。线上服务时，输入 user 信息，可以找到与之相关的 cluster，然后将每个 cluster 中的 item 当作找回的 candidate。  
&nbsp;&nbsp;所以关键是对 path 进行有效的聚类。我采用对比学习的方式，在加入负样本的情况下，进行更好的聚类。  
&nbsp;&nbsp;具体而言就是在之前的损失函数基础上在加一个损失函数项。由 DR 原文公式1，这是正样本产生的向量 v1，我们按照此公式产生负样本的向量 v2。计算 v1 和 v2 之间的距离（采用余弦公式）d_neg，同时我们也可以得到正样本之间的距离 d_pos。于是 L = max(0, γ - d_neg_(i,j)) + d_pos_(m,n)。（i, m, n 属于正样本，j属于负样本）  
&nbsp;&nbsp;第一项表示通过loss函数，要将正样本和负样本进行区分，但是区分是有上限的，上限为γ；第二项表示正样本之间要更加的紧密。
